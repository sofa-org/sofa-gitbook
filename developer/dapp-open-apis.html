
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>DAPP Open APIs ¬∑ SOFA.org Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="SOFA.org">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="subgraphs.html" />
    
    
    <link rel="prev" href="marketmaker-open-apis.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    SOFA.org Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../innovating/">
            
                <a href="../innovating/">
            
                    
                    Innovating the Next Wave of DeFi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../protocols/">
            
                <a href="../protocols/">
            
                    
                    üåè Welcome To the SOFA Protocols üåè
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../roadmap/">
            
                <a href="../roadmap/">
            
                    
                    Roadmap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../user-guide/">
            
                <a href="../user-guide/">
            
                    
                    User Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../user-guide/earn.html">
            
                <a href="../user-guide/earn.html">
            
                    
                    Earn
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../user-guide/surge.html">
            
                <a href="../user-guide/surge.html">
            
                    
                    Surge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../user-guide/claim.html">
            
                <a href="../user-guide/claim.html">
            
                    
                    Claiming Your $RCH Rewards! üéÅ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../technical-design/">
            
                <a href="../technical-design/">
            
                    
                    Technical Design
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../technical-design/vault-classification.html">
            
                <a href="../technical-design/vault-classification.html">
            
                    
                    Vault Classification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../technical-design/risk-prefer.html">
            
                <a href="../technical-design/risk-prefer.html">
            
                    
                    Defining Your Risk Preference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../technical-design/oracle.html">
            
                <a href="../technical-design/oracle.html">
            
                    
                    Oracle Construction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../technical-design/settlement.html">
            
                <a href="../technical-design/settlement.html">
            
                    
                    On-Chain Settlement Considerations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../technical-design/fees.html">
            
                <a href="../technical-design/fees.html">
            
                    
                    Protocol Fees
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../security/">
            
                <a href="../security/">
            
                    
                    Security
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../security/bug-bounty.html">
            
                <a href="../security/bug-bounty.html">
            
                    
                    Bug Bounty Program
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../security/governance.html">
            
                <a href="../security/governance.html">
            
                    
                    Governance Framework
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../security/external.html">
            
                <a href="../security/external.html">
            
                    
                    External Contingencies & Risk Factors
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../tokenomics/">
            
                <a href="../tokenomics/">
            
                    
                    Tokenomics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../tokenomics/rch-scenario.html">
            
                <a href="../tokenomics/rch-scenario.html">
            
                    
                    Hypothetical $RCH Float Scenario (LP + Cumulative Airdrops)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../sofa-point/">
            
                <a href="../sofa-point/">
            
                    
                    $SOFA Points
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../faq/">
            
                <a href="../faq/">
            
                    
                    SOFA FAQs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="./">
            
                <a href="./">
            
                    
                    Developer Documentation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="marketmaker-open-apis.html">
            
                <a href="marketmaker-open-apis.html">
            
                    
                    Market Maker Open APIs
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.11.2" data-path="dapp-open-apis.html">
            
                <a href="dapp-open-apis.html">
            
                    
                    DAPP Open APIs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="subgraphs.html">
            
                <a href="subgraphs.html">
            
                    
                    Subgraphs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="contracts.html">
            
                <a href="contracts.html">
            
                    
                    Deployment Contracts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="marketmaker-onboarding-process.html">
            
                <a href="marketmaker-onboarding-process.html">
            
                    
                    Market Maker Onboarding Process
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../links/">
            
                <a href="../links/">
            
                    
                    Links
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >DAPP Open APIs</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="dapp-open-apis-ie-broker">dApp Open APIs (ie. Broker)</h1>
<p>Our existing dApp on sofa.org is a critical workflow feature and is the main way for users to interact with the SOFA protocols.  However, we encourage other developers to enable access and connect to SOFA via their own dApps as well to maximize our ecosystem growth.  We consider these to be our &apos;Broker&apos; partners and encourage interested parties to contact the SOFA team for further API information.</p>
<h2 id="recommended-range-dnt-rfq-inquiry">Recommended Range (DNT) RFQ Inquiry</h2>
<ul>
<li>Description<ul>
<li>Supports a list of RFQs composed of the same vault+chainId.</li>
</ul>
</li>
</ul>
<pre><code>POST /rfq/dnt/recommended-quote
</code></pre><p><strong>Input parameters</strong></p>
<table>
<thead>
<tr>
<th><strong>Field Name</strong></th>
<th><strong>Required</strong></th>
<th><strong>Type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>list</td>
<td>array[object]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>vault</td>
<td>true</td>
<td>string</td>
<td>Contract information</td>
</tr>
<tr>
<td>chainId</td>
<td>true</td>
<td>int</td>
<td>Chain ID</td>
</tr>
<tr>
<td>expiry</td>
<td>true</td>
<td>long</td>
<td>Second-level timestamp for the expiry date, e.g., 1672387200</td>
</tr>
<tr>
<td>lowerBarrier</td>
<td>true</td>
<td>number</td>
<td>Lower price</td>
</tr>
<tr>
<td>upperBarrier</td>
<td>true</td>
<td>number</td>
<td>Upper price</td>
</tr>
<tr>
<td>depositAmount</td>
<td>true</td>
<td>number</td>
<td>RFQ purchase amount</td>
</tr>
<tr>
<td>inputApyDefinition</td>
<td>true</td>
<td>string</td>
<td>The underlying code is Enum indicating how the input APY is calculatedOptimusDefaultAPY, BinanceDntAPY, AaveLendingAPY</td>
</tr>
<tr>
<td>protectedApy</td>
<td>false</td>
<td>number</td>
<td>Guaranteed annual yield (empty for RISKY, required for protected)</td>
</tr>
<tr>
<td>fundingApy</td>
<td>false</td>
<td>number</td>
<td>AAVE annual yield (empty for RISKY, required for protected)</td>
</tr>
</tbody>
</table>
<p><strong>Input Parameter Example</strong></p>
<pre><code class="lang-json">{
    <span class="hljs-string">&quot;list&quot;</span>:[
        {
            <span class="hljs-string">&quot;vault&quot;</span>:<span class="hljs-string">&quot;0x0E3a24ed24fBfF5406C8529fBe3Cc4DFE12b1cDB&quot;</span>,
            <span class="hljs-string">&quot;chainId&quot;</span>:<span class="hljs-number">80001</span>,
            <span class="hljs-string">&quot;lowerBarrier&quot;</span>:<span class="hljs-number">2775</span>,
            <span class="hljs-string">&quot;upperBarrier&quot;</span>:<span class="hljs-number">2825</span>,
            <span class="hljs-string">&quot;expiry&quot;</span>:<span class="hljs-number">1708416000</span>,
            <span class="hljs-string">&quot;depositAmount&quot;</span>:<span class="hljs-number">1000</span>,
            <span class="hljs-string">&quot;protectedApy&quot;</span>:<span class="hljs-number">0.01</span>,
            <span class="hljs-string">&quot;fundingApy&quot;</span>:<span class="hljs-string">&quot;0.1098&quot;</span>,
            <span class="hljs-string">&quot;inputApyDefinition&quot;</span>:<span class="hljs-string">&quot;AaveLendingAPY&quot;</span>
        }
    ]
}
</code></pre>
<p><strong>Output Parameters</strong></p>
<table>
<thead>
<tr>
<th><strong>Field Name</strong></th>
<th><strong>Type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0 indicates that the return result is normal</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Error message returned in case of an exception</td>
</tr>
<tr>
<td>value</td>
<td>list[object]</td>
</tr>
</tbody>
</table>
<p>Object</p>
<table>
<thead>
<tr>
<th><strong>Field Name</strong></th>
<th><strong>Type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>vault</td>
<td>string</td>
<td>Contract address</td>
</tr>
<tr>
<td>chainId</td>
<td>int</td>
<td>Chain ID</td>
</tr>
<tr>
<td>riskType</td>
<td>string</td>
<td>Risk type: PROTECTED, RISKY</td>
</tr>
<tr>
<td>forCcy</td>
<td>string</td>
<td>Underlying currency</td>
</tr>
<tr>
<td>domCcy</td>
<td>string</td>
<td>Currency pair</td>
</tr>
<tr>
<td>depositCcy</td>
<td>string</td>
<td>Subscription currency</td>
</tr>
<tr>
<td>lowerBarrier</td>
<td>number</td>
<td>Lower price</td>
</tr>
<tr>
<td>upperBarrier</td>
<td>number</td>
<td>Upper price</td>
</tr>
<tr>
<td>depositAmount</td>
<td>number</td>
<td>RFQ purchase amount</td>
</tr>
<tr>
<td>expiry</td>
<td>long</td>
<td>Expiry timestamp (e.g., 1672387200)</td>
</tr>
<tr>
<td>protectedReturnAmount</td>
<td>number</td>
<td>Total amount of guaranteed return, in the same unit as depositCcy</td>
</tr>
<tr>
<td>fundingAmount</td>
<td>number</td>
<td>Estimated yield for the period; zero for non-guaranteed types</td>
</tr>
<tr>
<td>enhancedReturnAmount</td>
<td>number</td>
<td>Total amount of extra return when not knocked out, in the same unit as depositCcy</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Current pricing&apos;s trigger time; the next observation start time is calculated based on this logic</td>
</tr>
<tr>
<td>observationStart</td>
<td>long</td>
<td>Estimated start time of observation for knocking in/out based on timestamp</td>
</tr>
<tr>
<td>quote</td>
<td>object</td>
<td></td>
</tr>
<tr>
<td>anchorPrices</td>
<td>list[string]</td>
<td>20000000000, 30000000000</td>
</tr>
<tr>
<td>makerCollateral</td>
<td>string</td>
<td>Maker&apos;s collateral amount</td>
</tr>
<tr>
<td>totalCollateral</td>
<td>string</td>
<td>Total collateral amount (Taker+Maker)</td>
</tr>
<tr>
<td>collateralAtRiskPercentage</td>
<td>string</td>
<td>Required when guaranteed (can be empty)</td>
</tr>
<tr>
<td>deadline</td>
<td>long</td>
<td>Expiration timestamp (e.g., 1672387200)</td>
</tr>
<tr>
<td>makerWallet</td>
<td>string</td>
<td>Maker&apos;s wallet (can be empty)</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>Signature (can be empty)</td>
</tr>
</tbody>
</table>
<p>Output Parameters example</p>
<pre><code class="lang-json">{
    <span class="hljs-string">&quot;succ&quot;</span>:<span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;code&quot;</span>:<span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;message&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,
    <span class="hljs-string">&quot;value&quot;</span>:[
        {
            <span class="hljs-string">&quot;chainId&quot;</span>:<span class="hljs-number">80001</span>,
            <span class="hljs-string">&quot;vault&quot;</span>:<span class="hljs-string">&quot;0x0E3a24ed24fBfF5406C8529fBe3Cc4DFE12b1cDB&quot;</span>,
            <span class="hljs-string">&quot;riskType&quot;</span>:<span class="hljs-string">&quot;PROTECTED&quot;</span>,
            <span class="hljs-string">&quot;forCcy&quot;</span>:<span class="hljs-string">&quot;WETH&quot;</span>,
            <span class="hljs-string">&quot;domCcy&quot;</span>:<span class="hljs-string">&quot;USDT&quot;</span>,
            <span class="hljs-string">&quot;depositCcy&quot;</span>:<span class="hljs-string">&quot;USDT&quot;</span>,
            <span class="hljs-string">&quot;lowerBarrier&quot;</span>:<span class="hljs-string">&quot;2775&quot;</span>,
            <span class="hljs-string">&quot;upperBarrier&quot;</span>:<span class="hljs-string">&quot;2825&quot;</span>,
            <span class="hljs-string">&quot;depositAmount&quot;</span>:<span class="hljs-string">&quot;1000&quot;</span>,
            <span class="hljs-string">&quot;expiry&quot;</span>:<span class="hljs-string">&quot;1708416000&quot;</span>,
            <span class="hljs-string">&quot;timestamp&quot;</span>:<span class="hljs-string">&quot;1708142778&quot;</span>,
            <span class="hljs-string">&quot;protectedReturnAmount&quot;</span>:<span class="hljs-string">&quot;0.08219178&quot;</span>,
            <span class="hljs-string">&quot;fundingAmount&quot;</span>:<span class="hljs-string">&quot;0.90246575&quot;</span>,
            <span class="hljs-string">&quot;enhancedReturnAmount&quot;</span>:<span class="hljs-string">&quot;3.69018697&quot;</span>,
            <span class="hljs-string">&quot;observationStart&quot;</span>:<span class="hljs-string">&quot;1708156800&quot;</span>,
            <span class="hljs-string">&quot;quote&quot;</span>:{
                <span class="hljs-string">&quot;anchorPrices&quot;</span>:[
                    <span class="hljs-string">&quot;2775000000&quot;</span>,
                    <span class="hljs-string">&quot;2825000000&quot;</span>
                ],
                <span class="hljs-string">&quot;makerCollateral&quot;</span>:<span class="hljs-string">&quot;2869913&quot;</span>,
                <span class="hljs-string">&quot;totalCollateral&quot;</span>:<span class="hljs-string">&quot;1002869913&quot;</span>,
                <span class="hljs-string">&quot;collateralAtRiskPercentage&quot;</span>:<span class="hljs-string">&quot;3631&quot;</span>,
                <span class="hljs-string">&quot;deadline&quot;</span>:<span class="hljs-string">&quot;1708143378&quot;</span>,
                <span class="hljs-string">&quot;makerWallet&quot;</span>:<span class="hljs-string">&quot;0xDFD6f6a6c1AB0184a483F1c7f691f1ea6B810e55&quot;</span>,
                <span class="hljs-string">&quot;signature&quot;</span>:<span class="hljs-literal">null</span>
            }
        },
        {
            <span class="hljs-string">&quot;chainId&quot;</span>:<span class="hljs-number">80001</span>,
            <span class="hljs-string">&quot;vault&quot;</span>:<span class="hljs-string">&quot;0x0E3a24ed24fBfF5406C8529fBe3Cc4DFE12b1cDB&quot;</span>,
            <span class="hljs-string">&quot;riskType&quot;</span>:<span class="hljs-string">&quot;PROTECTED&quot;</span>,
            <span class="hljs-string">&quot;forCcy&quot;</span>:<span class="hljs-string">&quot;WETH&quot;</span>,
            <span class="hljs-string">&quot;domCcy&quot;</span>:<span class="hljs-string">&quot;USDT&quot;</span>,
            <span class="hljs-string">&quot;depositCcy&quot;</span>:<span class="hljs-string">&quot;USDT&quot;</span>,
            <span class="hljs-string">&quot;lowerBarrier&quot;</span>:<span class="hljs-string">&quot;2775&quot;</span>,
            <span class="hljs-string">&quot;upperBarrier&quot;</span>:<span class="hljs-string">&quot;2825&quot;</span>,
            <span class="hljs-string">&quot;depositAmount&quot;</span>:<span class="hljs-string">&quot;1000&quot;</span>,
            <span class="hljs-string">&quot;expiry&quot;</span>:<span class="hljs-string">&quot;1708761600&quot;</span>,
            <span class="hljs-string">&quot;timestamp&quot;</span>:<span class="hljs-string">&quot;1708142781&quot;</span>,
            <span class="hljs-string">&quot;protectedReturnAmount&quot;</span>:<span class="hljs-string">&quot;0.19178082&quot;</span>,
            <span class="hljs-string">&quot;fundingAmount&quot;</span>:<span class="hljs-string">&quot;2.10575342&quot;</span>,
            <span class="hljs-string">&quot;enhancedReturnAmount&quot;</span>:<span class="hljs-string">&quot;21.6891866&quot;</span>,
            <span class="hljs-string">&quot;observationStart&quot;</span>:<span class="hljs-string">&quot;1708156800&quot;</span>,
            <span class="hljs-string">&quot;quote&quot;</span>:{
                <span class="hljs-string">&quot;anchorPrices&quot;</span>:[
                    <span class="hljs-string">&quot;2775000000&quot;</span>,
                    <span class="hljs-string">&quot;2825000000&quot;</span>
                ],
                <span class="hljs-string">&quot;makerCollateral&quot;</span>:<span class="hljs-string">&quot;19775214&quot;</span>,
                <span class="hljs-string">&quot;totalCollateral&quot;</span>:<span class="hljs-string">&quot;1019775214&quot;</span>,
                <span class="hljs-string">&quot;collateralAtRiskPercentage&quot;</span>:<span class="hljs-string">&quot;21123&quot;</span>,
                <span class="hljs-string">&quot;deadline&quot;</span>:<span class="hljs-string">&quot;1708143381&quot;</span>,
                <span class="hljs-string">&quot;makerWallet&quot;</span>:<span class="hljs-string">&quot;0xDFD6f6a6c1AB0184a483F1c7f691f1ea6B810e55&quot;</span>,
                <span class="hljs-string">&quot;signature&quot;</span>:<span class="hljs-literal">null</span>
            }
        }
    ]
}
</code></pre>
<h2 id="inquiry">Inquiry</h2>
<ul>
<li>Notes:<ul>
<li>Please do not pass the user&apos;s wallet address on a pure inquiry request.</li>
<li>A user&apos;s wallet address should be passed on only upon subscribing.</li>
</ul>
</li>
</ul>
<pre><code>GET /rfq/dnt/quote
</code></pre><p><strong>Input Parameters</strong></p>
<table>
<thead>
<tr>
<th><strong>Field Name</strong></th>
<th><strong>Required</strong></th>
<th><strong>Type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>vault</td>
<td>true</td>
<td>string</td>
<td>Contract information</td>
</tr>
<tr>
<td>chainId</td>
<td>true</td>
<td>int</td>
<td>Chain ID</td>
</tr>
<tr>
<td>expiry</td>
<td>true</td>
<td>long</td>
<td>Second-level timestamp for the expiry date, e.g., 1672387200</td>
</tr>
<tr>
<td>lowerBarrier</td>
<td>true</td>
<td>number</td>
<td>Lower price</td>
</tr>
<tr>
<td>upperBarrier</td>
<td>true</td>
<td>number</td>
<td>Upper price</td>
</tr>
<tr>
<td>depositAmount</td>
<td>true</td>
<td>number</td>
<td>RFQ purchase amount</td>
</tr>
<tr>
<td>inputApyDefinition</td>
<td>true</td>
<td>string</td>
<td>The underlying code is Enum indicating how the input APY is calculatedOptimusDefaultAPY, BinanceDntAPY, AaveLendingAPY</td>
</tr>
<tr>
<td>protectedApy</td>
<td>false</td>
<td>number</td>
<td>Guaranteed annual yield (empty for RISKY, required for protected)</td>
</tr>
<tr>
<td>fundingApy</td>
<td>false</td>
<td>number</td>
<td>AAVE annual yield (empty for RISKY, required for protected)</td>
</tr>
<tr>
<td>takerWallet</td>
<td>false</td>
<td>string</td>
<td>Inquirer&apos;s wallet public address information</td>
</tr>
</tbody>
</table>
<p><strong>Output Parameters</strong></p>
<table>
<thead>
<tr>
<th><strong>Field Name</strong></th>
<th><strong>Type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0 indicates that the return result is normal</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Error message returned in case of an exception</td>
</tr>
<tr>
<td>value</td>
<td>list[object]</td>
</tr>
</tbody>
</table>
<p>Object</p>
<table>
<thead>
<tr>
<th><strong>Field Name</strong></th>
<th><strong>Type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>vault</td>
<td>string</td>
<td>Contract address</td>
</tr>
<tr>
<td>chainId</td>
<td>int</td>
<td>Chain ID</td>
</tr>
<tr>
<td>riskType</td>
<td>string</td>
<td>Risk type: PROTECTED, RISKY</td>
</tr>
<tr>
<td>forCcy</td>
<td>string</td>
<td>Underlying currency</td>
</tr>
<tr>
<td>domCcy</td>
<td>string</td>
<td>Currency pair</td>
</tr>
<tr>
<td>depositCcy</td>
<td>string</td>
<td>Subscription currency</td>
</tr>
<tr>
<td>lowerBarrier</td>
<td>number</td>
<td>Lower price</td>
</tr>
<tr>
<td>upperBarrier</td>
<td>number</td>
<td>Upper price</td>
</tr>
<tr>
<td>depositAmount</td>
<td>number</td>
<td>RFQ purchase amount</td>
</tr>
<tr>
<td>expiry</td>
<td>long</td>
<td>Expiry timestamp (e.g., 1672387200)</td>
</tr>
<tr>
<td>protectedReturnAmount</td>
<td>number</td>
<td>Total amount of guaranteed return, in the same unit as depositCcy</td>
</tr>
<tr>
<td>fundingAmount</td>
<td>number</td>
<td>Estimated yield for the period; zero for non-guaranteed types</td>
</tr>
<tr>
<td>enhancedReturnAmount</td>
<td>number</td>
<td>Total amount of extra return when not knocked out, in the same unit as depositCcy</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Current pricing&apos;s trigger time; the next observation start time is calculated based on this logic</td>
</tr>
<tr>
<td>observationStart</td>
<td>long</td>
<td>Estimated start time of observation for knocking in/out based on timestamp</td>
</tr>
<tr>
<td>quote</td>
<td>object</td>
<td></td>
</tr>
<tr>
<td>anchorPrices</td>
<td>list[string]</td>
<td>20000000000, 30000000000</td>
</tr>
<tr>
<td>makerCollateral</td>
<td>string</td>
<td>Maker&apos;s collateral amount</td>
</tr>
<tr>
<td>totalCollateral</td>
<td>string</td>
<td>Total collateral amount (Taker+Maker)</td>
</tr>
<tr>
<td>collateralAtRiskPercentage</td>
<td>string</td>
<td>Required when guaranteed (can be empty)</td>
</tr>
<tr>
<td>deadline</td>
<td>long</td>
<td>Expiration timestamp (e.g., 1672387200)</td>
</tr>
<tr>
<td>makerWallet</td>
<td>string</td>
<td>Maker&apos;s wallet (can be empty)</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>Signature (can be empty)</td>
</tr>
</tbody>
</table>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="marketmaker-open-apis.html" class="navigation navigation-prev " aria-label="Previous page: Market Maker Open APIs">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="subgraphs.html" class="navigation navigation-next " aria-label="Next page: Subgraphs">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"DAPP Open APIs","level":"1.11.2","depth":2,"next":{"title":"Subgraphs","level":"1.11.3","depth":2,"path":"developer/subgraphs.md","ref":"developer/subgraphs.md","articles":[]},"previous":{"title":"Market Maker Open APIs","level":"1.11.1","depth":2,"path":"developer/marketmaker-open-apis.md","ref":"developer/marketmaker-open-apis.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","-lunr","-search","search-pro","back-to-top-button","code","chapter-fold","mathjax-pro"],"styles":{"website":"styles/website.css","ebook":"styles/ebook.css","pdf":"styles/pdf.css","mobi":"styles/mobi.css","epub":"styles/epub.css"},"pluginsConfig":{"fontsettings":{"theme":"white","family":"sans","size":2},"search-pro":{},"back-to-top-button":{},"code":{"copyButtons":true},"chapter-fold":{},"mathjax-pro":{"forceSVG":false,"version":"2.7.7"},"highlight":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"SOFA.org","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"INTRO.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"SOFA.org Documentation","gitbook":"*"},"file":{"path":"developer/dapp-open-apis.md","mtime":"2024-11-27T08:48:26.783Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-12-18T07:03:20.060Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-mathjax-pro/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

