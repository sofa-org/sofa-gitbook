
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Oracle Construction ¬∑ GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../../styles/website.css">
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="03-settlement.html" />
    
    
    <link rel="prev" href="01-vaults.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../../">
            
                <a href="../../../">
            
                    
                    üí° SOFA.org Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../../01-features/">
            
                <a href="../../../01-features/">
            
                    
                    üåà Innovating the Next Wave of DeFi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../">
            
                <a href="../../">
            
                    
                    üöÄ Protocol Premise & Vault Taxonomy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../01-dcv-exotic.html">
            
                <a href="../../01-dcv-exotic.html">
            
                    
                    DCV-Exotic (Structured Products & Clearing)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../">
            
                <a href="../">
            
                    
                    DCV-Exotic Details
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1.1" data-path="./">
            
                <a href="./">
            
                    
                    Technical Design
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1.1.1" data-path="01-vaults.html">
            
                <a href="01-vaults.html">
            
                    
                    Vault Classification
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.1.1.1.2" data-path="02-oracles.html">
            
                <a href="02-oracles.html">
            
                    
                    Oracle Construction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.1.3" data-path="03-settlement.html">
            
                <a href="03-settlement.html">
            
                    
                    On-Chain Settlement Considerations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.1.4" data-path="04-fees.html">
            
                <a href="04-fees.html">
            
                    
                    Protocol Fees
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.1.5" data-path="05-referral.html">
            
                <a href="05-referral.html">
            
                    
                    Referral Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.1.6" data-path="06-governance.html">
            
                <a href="06-governance.html">
            
                    
                    Decentralized Governance Framework
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.2" data-path="./">
            
                <a href="./">
            
                    
                    Developer Documentation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1.2.1" data-path="../02-developers/01-marketmaker-open-apis.html">
            
                <a href="../02-developers/01-marketmaker-open-apis.html">
            
                    
                    Open APIs for Market Maker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.2.2" data-path="../02-developers/02-dapp-open-apis.html">
            
                <a href="../02-developers/02-dapp-open-apis.html">
            
                    
                    Open APIs for DAPP Developer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.2.3" data-path="../02-developers/03-subgraphs.html">
            
                <a href="../02-developers/03-subgraphs.html">
            
                    
                    Subgraphs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.2.4" data-path="../02-developers/04-bug-bounty.html">
            
                <a href="../02-developers/04-bug-bounty.html">
            
                    
                    Bug Bounty Program
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../02-dcv-leverage.html">
            
                <a href="../../02-dcv-leverage.html">
            
                    
                    DCV-Leverage (Leverage Structured Product)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../03-dcv-wm.html">
            
                <a href="../../03-dcv-wm.html">
            
                    
                    DCV-WM (Dynamic Allocation Pool for DCV-EXOTIC)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../../03-security/">
            
                <a href="../../../03-security/">
            
                    
                    üîê Protocol Security Considerations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../../04-tokenomics/">
            
                <a href="../../../04-tokenomics/">
            
                    
                    üìà Tokenomics and Governance
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../../04-tokenomics/01-rch.html">
            
                <a href="../../../04-tokenomics/01-rch.html">
            
                    
                    $RCH Utility Token
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../../04-tokenomics/02-sofa.html">
            
                <a href="../../../04-tokenomics/02-sofa.html">
            
                    
                    $SOFA Governance Token
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../.." >Oracle Construction</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="oracle-construction">Oracle Construction</h1>
<p>In the world of cryptocurrencies and DeFi, <strong>obtaining off-chain data in a timely and accurate manner is crucial.</strong>  As smart contracts cannot directly access external systems or data sources, oracles serve to bridge this gap by bringing outside information onto the blockchain.  The trustworthy data service must be provided to ensure full settlement transparency and traceability in settlement, while minimizing possible disputes.</p>
<p>The <strong>ChainLink</strong> oracle service, known for its high degree of decentralization, reliability, and adaptability, has been chosen as SOFA&apos;s primary means of accessing off-chain data.  Furthermore, the use of ChainLink price feeds has the <strong>additional benefit of protecting the protocol against &apos;flash loan attacks&apos;</strong>, while the <strong>source of data feeds will be from reputable trading platforms such as Coinbase</strong> to ensure sanctity of data.</p>
<h2 id="spot-price--price-at-expiry">Spot Price / Price at Expiry</h2>
<p>Obtaining the current price of an underlying asset on-chain through an oracle is typically done in one of two ways:</p>
<ul>
<li>calling contracts from DEXs like Uniswap to get the Price or TWAP Price of the underlying asset</li>
<li>obtaining the asset price through data feeds provided by an oracle service like ChainLink</li>
</ul>
<p>Considering the need for the Settlement Price to be as close as possible to CeFi exchange prices (for ease of hedging by users or market makers) and for security reasons (to avoid manipulation and attacks), we have <strong>chosen ChainLink&apos;s Data Feeds as the oracle source for our Price at Expiry</strong>.</p>
<p>With ChainLink&apos;s decentralized data sources that aggregate pricing information from different exchanges, we ensure that our smart contract executions are based on up-to-date, reliable, and fairest sets of pricing data publicly available.</p>
<h2 id="calculated-price-derived-from-historical-closes">Calculated Price Derived from Historical Closes</h2>
<p>For products like DNT, it is necessary to know the highest and lowest prices of the underlying token from mint inception to expiry in order to calculate the final payout.  Common on-chain typically cannot provide this data, given that on-chain oracles do not provide continuous time-series data.</p>
<p>Instead of deploying our own oracle contracts as a (common) centralization compromise, we have found a solution in <strong>ChainLink&apos;s Functions product</strong>.  Thanks to the latest innovations, we are able to call off-chain APIs in a decentralized manner, and publish the obtained data on-chain through decentralized nodes like a typical data feed.</p>
<p><img src="../../../static/KW48blDaAoRRr5xgXJjuRmf9stf.png" alt=""></p>
<h2 id="automation-regular-update-service">Automation Regular Update Service</h2>
<p>SOFA utilizes ChainLink Automation to guarantee that prices are automatically updated and pushed to the blockchain on a regular basis. ChainLink Automation offers a decentralized network where smart contracts can schedule and automatically execute complex tasks, including interval data updates, trigger events, and even critical contract adjustments.  This <strong>ensures that on-chain prices remain constantly up to date, and offers data confidence to SOFA&apos;s network of connected dApps</strong>.</p>
<p><img src="../../../static/K6w7bphPKoTSrGxBMgcuUfFYszc.png" alt=""></p>
<h2 id="decentralization-and-traceability">Decentralization and Traceability</h2>
<p>Staying true to our core DeFi spirit, <strong>SOFA&apos;s price data retrieval process will always be fully decentralized</strong>, offering full audit traceability at the contract level.  Our advocacy for transparent processing ensures that every step within the system is openly verifiable by users, with pricing data details such as provider source and aggregation logic fully observable at all times.</p>
<h2 id="continuous-innovation-in-oracle-services">Continuous Innovation in Oracle Services</h2>
<p>While ChainLink remains a gold standard for DeFi data reliability, SOFA is continuously exploring and staying informed of the latest innovations in oracle services.  We are cognizant of over-reliance on limited provider sources and will<strong> strive to diversify our protocol inputs as much as technologically possible</strong>.</p>
<p>In the long-run, SOFA strives to offer users a robust, transparent, decentralized, and sustainable data acquisition system that can safeguard user interests while ensuring operational longevity.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="01-vaults.html" class="navigation navigation-prev " aria-label="Previous page: Vault Classification">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="03-settlement.html" class="navigation navigation-next " aria-label="Next page: On-Chain Settlement Considerations">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Oracle Construction","level":"1.3.1.1.1.2","depth":5,"next":{"title":"On-Chain Settlement Considerations","level":"1.3.1.1.1.3","depth":5,"path":"02-protocols/01-dcv-exotic/01-design/03-settlement.md","ref":"02-protocols/01-dcv-exotic/01-design/03-settlement.md","articles":[]},"previous":{"title":"Vault Classification","level":"1.3.1.1.1.1","depth":5,"path":"02-protocols/01-dcv-exotic/01-design/01-vaults.md","ref":"02-protocols/01-dcv-exotic/01-design/01-vaults.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["katex","-sharing"],"pluginsConfig":{"katex":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"INTRO.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","ebook":"styles/ebook.css","pdf":"styles/pdf.css","mobi":"styles/mobi.css","epub":"styles/epub.css"}},"file":{"path":"02-protocols/01-dcv-exotic/01-design/02-oracles.md","mtime":"2024-04-01T11:40:44.462Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-04-02T02:45:41.731Z"},"basePath":"../../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

