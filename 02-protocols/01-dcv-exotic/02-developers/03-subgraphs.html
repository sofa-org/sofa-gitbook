
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Subgraphs ¬∑ GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../../styles/website.css">
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="04-bug-bounty.html" />
    
    
    <link rel="prev" href="02-dapp-open-apis.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../../">
            
                <a href="../../../">
            
                    
                    üí° SOFA.org Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../../01-features/">
            
                <a href="../../../01-features/">
            
                    
                    üåà Innovating the Next Wave of DeFi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../">
            
                <a href="../../">
            
                    
                    üöÄ Protocol Premise & Vault Taxonomy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../01-dcv-exotic.html">
            
                <a href="../../01-dcv-exotic.html">
            
                    
                    DCV-Exotic (Structured Products & Clearing)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../">
            
                <a href="../">
            
                    
                    DCV-Exotic Details
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1.1" data-path="../01-design/">
            
                <a href="../01-design/">
            
                    
                    Technical Design
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1.1.1" data-path="../01-design/01-vaults.html">
            
                <a href="../01-design/01-vaults.html">
            
                    
                    Vault Classification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.1.2" data-path="../01-design/02-oracles.html">
            
                <a href="../01-design/02-oracles.html">
            
                    
                    Oracle Construction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.1.3" data-path="../01-design/03-settlement.html">
            
                <a href="../01-design/03-settlement.html">
            
                    
                    On-Chain Settlement Considerations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.1.4" data-path="../01-design/04-fees.html">
            
                <a href="../01-design/04-fees.html">
            
                    
                    Protocol Fees
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.1.5" data-path="../01-design/05-referral.html">
            
                <a href="../01-design/05-referral.html">
            
                    
                    Referral Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.1.6" data-path="../01-design/06-governance.html">
            
                <a href="../01-design/06-governance.html">
            
                    
                    Decentralized Governance Framework
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.2" data-path="../01-design/">
            
                <a href="../01-design/">
            
                    
                    Developer Documentation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1.2.1" data-path="01-marketmaker-open-apis.html">
            
                <a href="01-marketmaker-open-apis.html">
            
                    
                    Open APIs for Market Maker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.2.2" data-path="02-dapp-open-apis.html">
            
                <a href="02-dapp-open-apis.html">
            
                    
                    Open APIs for DAPP Developer
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.1.1.2.3" data-path="03-subgraphs.html">
            
                <a href="03-subgraphs.html">
            
                    
                    Subgraphs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.2.4" data-path="04-bug-bounty.html">
            
                <a href="04-bug-bounty.html">
            
                    
                    Bug Bounty Program
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../02-dcv-leverage.html">
            
                <a href="../../02-dcv-leverage.html">
            
                    
                    DCV-Leverage (Leverage Structured Product)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../03-dcv-wm.html">
            
                <a href="../../03-dcv-wm.html">
            
                    
                    DCV-WM (Dynamic Allocation Pool for DCV-EXOTIC)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../../03-security/">
            
                <a href="../../../03-security/">
            
                    
                    üîê Protocol Security Considerations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../../04-tokenomics/">
            
                <a href="../../../04-tokenomics/">
            
                    
                    üìà Tokenomics and Governance
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../../04-tokenomics/01-rch.html">
            
                <a href="../../../04-tokenomics/01-rch.html">
            
                    
                    $RCH Utility Token
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../../04-tokenomics/02-sofa.html">
            
                <a href="../../../04-tokenomics/02-sofa.html">
            
                    
                    $SOFA Governance Token
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../.." >Subgraphs</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="subgraphs">Subgraphs</h1>
<p>We support the development of efficient and responsive applications by providing real-time and accurate blockchain data access through the use of The Graph&apos;s indexing protocol.  Subgraphs are a powerful tool that allows us to index data stored on Ethereum and query this data via GraphQL.</p>
<p>Here is how you can utilize custom subgraphs to query related data within the protocol:</p>
<h2 id="accessing-our-subgraph">Accessing Our Subgraph</h2>
<p>We have created specific subgraphs for the protocol&apos;s data. These subgraphs contain various entities indexed from the blockchain, such as transactions, accounts, and specific events related to our DeFi products.  You can query data in the subgraph via the following steps:</p>
<h3 id="step-1-find-the-endpoint">Step 1: Find the Endpoint</h3>
<p>Locate the GraphQL endpoint URL corresponding to the subgraph you wish to interact with.  This typically appears as a web address link.  Please ensure you are using the most up-to-date endpoint.</p>
<h3 id="step-2-understand-the-schema">Step 2: Understand the Schema</h3>
<p>The schema describes the entities within the subgraph and the types of queries that can be performed. Understanding the schema is crucial for writing efficient queries.</p>
<h3 id="step-3-write-a-graphql-query">Step 3: Write a GraphQL Query</h3>
<p>Based on the schema, you can start writing GraphQL queries to query data from the subgraph. GraphQL allows for very specific queries, requesting only the fields you are interested in.  For example, if you want to query detailed information for each transaction, you might write a query like this:</p>
<pre><code>{
  transactions(first: 5) {
    id
    from
    to
    value
    blockNumber
  }
}
</code></pre><p>This will return transactions and their related details for the first five records on the blockchain.</p>
<h3 id="step-4-send-the-query-request">Step 4: Send the Query Request</h3>
<p>Send your query request using any HTTP client that supports GraphQL. You can use a command-line tool such as curl, or a library integrated into your application, like apollo-client.  Typically, the request is sent as a POST request to the endpoint URL.</p>
<p>An example code using curl is as follows:</p>
<pre><code>curl -X POST -H &quot;Content-Type: application/json&quot; --data &apos;{&quot;query&quot;: &quot;{ transactions(first: 5) { id from to value blockNumber } }&quot;}&apos; https://api.thegraph.com/subgraphs/name/sofa-org/subgraph-name
</code></pre><p>Replace <code>subgraph-name</code> with the actual subgraph name, and determine the URL based on the actual situation.</p>
<h3 id="step-5-analyze-and-use-the-response">Step 5: Analyze and Use the Response</h3>
<p>After your query request is sent, the GraphQL service will return the response in JSON format. You can process this data in your application or directly display it to users on the front end.</p>
<h2 id="best-practices">Best Practices</h2>
<ul>
<li><strong>Use Query Variables</strong>:  If you frequently need to perform queries of the same structure but with different parameters, using query variables can make it easier to reuse your queries.</li>
<li><strong>Handle Errors</strong>:  In addition to normal responses, GraphQL can also return error information. Make sure your client code can gracefully handle these situations.</li>
</ul>
<p>By following the above steps, you can effectively use The Graph to query data on the SOFA protocol to support your development projects.   Please refer to the rest of our developer documentation and Subgraph related resources for further information.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="02-dapp-open-apis.html" class="navigation navigation-prev " aria-label="Previous page: Open APIs for DAPP Developer">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="04-bug-bounty.html" class="navigation navigation-next " aria-label="Next page: Bug Bounty Program">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Subgraphs","level":"1.3.1.1.2.3","depth":5,"next":{"title":"Bug Bounty Program","level":"1.3.1.1.2.4","depth":5,"path":"02-protocols/01-dcv-exotic/02-developers/04-bug-bounty.md","ref":"02-protocols/01-dcv-exotic/02-developers/04-bug-bounty.md","articles":[]},"previous":{"title":"Open APIs for DAPP Developer","level":"1.3.1.1.2.2","depth":5,"path":"02-protocols/01-dcv-exotic/02-developers/02-dapp-open-apis.md","ref":"02-protocols/01-dcv-exotic/02-developers/02-dapp-open-apis.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["katex","-sharing"],"pluginsConfig":{"katex":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"INTRO.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","ebook":"styles/ebook.css","pdf":"styles/pdf.css","mobi":"styles/mobi.css","epub":"styles/epub.css"}},"file":{"path":"02-protocols/01-dcv-exotic/02-developers/03-subgraphs.md","mtime":"2024-04-27T17:04:34.659Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-04-27T17:49:10.163Z"},"basePath":"../../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

