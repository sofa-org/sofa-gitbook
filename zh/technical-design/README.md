
## 产品范围

SOFA 协议**最初将专注于结算和代币化加密结构化产品**，作为我们的概念验证。我们选择了一条“少有人走的路”，首先攻克最复杂的产品，一旦成功部署，将迅速扩展到所有其他加密资产类别。SOFA 协议将首先在**以太坊和其他 L1 EVM 区块链**上启动。

## 协议工作流程

![](../../static/draw4.png)

通过 SOFA 执行典型交易的高级流程如下：

- 参与的机构做市商持续向协议的 dApp 流播可执行的结构化产品价格
- 用户根据显示的价格选择并执行特定的结构化产品购买
- 用户承诺的资产被发送并锁定在产品的 DeFi 保险库中
- 做市商的最大溢价风险也被发送并锁定在保险库中
  - _注意：如果此时任何一方未能提交其所需资产，交易将不会执行_
- 相应的头寸代币声明（参考资产详情）将被铸造给用户和做市商，像任何传统的 ERC-20 代币一样可以自由转移到任何其他钱包地址

![](../../static/TnMSbh4G7oO4fDxf7FbuTkh2sbe.png)

- **仅对于“收益”结构，**保险库中的抵押品将被质押到成熟且安全的收益协议中，如 Compound、AAVE 等，为用户赚取基础利息
  - 这一步将进行特别仔细的审查，合格的目的地将由治理代币持有者投票决定

![](../../static/Stosbf6jcoxtvyxnO3OuSb9XsPf.png)

- 最后，在产品到期时，相关的支付将被释放，并可由用户和做市商在保险库中领取
  - 如果相应的头寸代币被转移到新钱包，地址的所有者将能够在到期后随时领取资产

## 代币标准 (ERC-1155)

**SOFA 协议通过 ERC-1155 多代币标准对用户的链上锁定头寸进行代币化，记录重要的头寸细节，如[到期]、[锚定价格]、[做市/接单切换]以及与相关工具相关的其他字段**。

![](../../static/UhIbbGdnioqb4pxRiouubc9fsOg.png)

与传统的单资产代币标准相比，ERC-1155 允许在单个合约中创建和管理多种类型的代币，并支持每种类型的代币具有不同的属性。具有相同参数的头寸仍然可以合并或拆分，同时实现像标准 ERC-20 代币一样方便的转移。**这一创新在广泛的资产兼容性、高灵活性和燃气效率之间取得了平衡**。

![](../../static/DkgrbQ5FDo5ZyxxdZvmuoixCsee.png)

具有相同执行价格和到期时间的头寸代币像任何标准代币一样是可替代的，并且可以在单次操作中批量结算，以实现显著的燃气节省。

