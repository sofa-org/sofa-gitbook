## 產品範圍

SOFA 協議將**最初專注於結算和代幣化加密結構化產品**作為我們的概念驗證。我們選擇了一條“少有人走的路”來首先攻克最複雜的產品，成功部署後將迅速擴展到所有其他加密資產類別。SOFA 協議將首先在 **Ethereum 和其他 L1 EVM 區塊鏈** 上推出。

## 協議工作流程

![](../../static/draw4.png)

通過 SOFA 執行典型交易的高層次流程如下：

- 參與的機構做市商不斷向協議的 dApp 流式傳輸可執行的結構化產品價格
- 用戶根據顯示的價格選擇並執行特定的結構化產品購買
- 用戶承諾的資產被發送並鎖定在產品的 DeFi 保險庫中
- 做市商的最大保費風險也被發送並鎖定在保險庫中
  - _注意：如果此時任何一方未能提交所需資產，交易將不會執行_
- 對應的頭寸代幣索賠（參考資產詳情）將被鑄造給用戶和做市商，像任何常規的 ERC-20 代幣一樣自由轉讓到任何其他錢包目的地

![](../../static/TnMSbh4G7oO4fDxf7FbuTkh2sbe.png)

- **僅對“賺取”結構，** 保險庫中的抵押品將被質押到成熟且安全的收益賺取協議中，如 Compound、AAVE 等，以為用戶賺取基礎利息
  - 此步驟將受到特別謹慎的審查，合格的目的地將由治理代幣持有人投票決定

![](../../static/Stosbf6jcoxtvyxnO3OuSb9XsPf.png)

- 最後，在產品到期時，相關的支付將被釋放並可由用戶和做市商在保險庫中索取
  - 如果相應的頭寸代幣被轉移到新錢包，地址的擁有者將能夠在到期後的任何時候索取資產

## 代幣標準 (ERC-1155)

**SOFA 協議通過 ERC-1155 多代幣標準將用戶的鏈上鎖定頭寸代幣化，記錄關鍵的頭寸細節，如 [到期日]、[錨定價格]、[做市/接單切換]，以及其他與相關工具相關的字段**。

![](../../static/UhIbbGdnioqb4pxRiouubc9fsOg.png)

與傳統的單資產代幣標準相比，ERC-1155 允許在單個合約中創建和管理多種類型的代幣，支持每種類型的代幣具有不同的屬性。具有相同參數的頭寸仍然可以合併或拆分，同時可以像標準 ERC-20 代幣一樣方便地轉移。**這一創新在廣泛的資產兼容性、高靈活性和燃氣效率之間取得了平衡**。

![](../../static/DkgrbQ5FDo5ZyxxdZvmuoixCsee.png)

具有相同行使價和到期時間的頭寸代幣像任何標準代幣一樣具有可替代性，可以在單次操作中批量結算，以實現顯著的燃氣節省。